{"ast":null,"code":"var _jsxFileName = \"/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step7/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { personService } from 'services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Displayer = ({\n  searchString,\n  persons,\n  searchResult\n}) => {\n  if (searchString === \"\") {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: persons.map(person => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\" \", person.name, \" \", person.number]\n        }, person.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: searchResult.map(search => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\" \", search.name, \" \", search.number]\n        }, search.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n};\n\n_c = Displayer;\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]); // using the useEffect for fetching the data from server and setting it to the component after first rendering..\n\n  useEffect(() => {\n    personService.retrieve().then(initialData => setPersons(initialData));\n  }, []);\n\n  function addName(event) {\n    //if trying to add the people in the phonebook\n    if (searchString === \"\") {\n      event.preventDefault();\n      const nameObject = {\n        name: newName,\n        number: newNum,\n        date: new Date(),\n        id: persons.length + 1\n      };\n      console.log(\"button clicked\", event.target);\n      if (persons.find(person => person.name === nameObject.name) === undefined) setPersons(persons.concat(nameObject));else alert(`${nameObject.name} is already added to phonebook`);\n    } //if searching on the phonebook\n    else {\n      event.preventDefault();\n      const searchArray = persons.filter(person => person.name.toLowerCase().search(searchString.toLowerCase()) !== -1);\n      setSearchResult(searchArray);\n    }\n  }\n\n  function handleNewName(event) {\n    setNewName(event.target.value);\n  }\n\n  function handleNewNum(event) {\n    setNewNum(event.target.value);\n  }\n\n  function handlesetSearchString(event) {\n    setSearchString(event.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addName,\n      children: [\"filter shown with\", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: searchString,\n        onChange: handlesetSearchString\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"add a new\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newName,\n          onChange: handleNewName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), \"number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newNum,\n        onChange: handleNewNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Displayer, {\n      searchString: searchString,\n      persons: persons,\n      searchResult: searchResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"peuh6sScJvqswqsRTcQOLkzmKro=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Displayer\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step7/src/App.js"],"names":["React","useState","useEffect","axios","personService","Displayer","searchString","persons","searchResult","map","person","name","number","search","App","setPersons","newName","setNewName","newNum","setNewNum","setSearchString","setSearchResult","retrieve","then","initialData","addName","event","preventDefault","nameObject","date","Date","id","length","console","log","target","find","undefined","concat","alert","searchArray","filter","toLowerCase","handleNewName","value","handleNewNum","handlesetSearchString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport axios from 'axios'\nimport {personService} from 'services/persons'\n\nconst Displayer = ({ searchString, persons, searchResult }) => {\n  if (searchString === \"\") {\n    return (\n      <>\n        <ul>\n          {persons.map((person) => (\n            <li key={person.name}>\n              {\" \"}\n              {person.name} {person.number}\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <ul>\n          {searchResult.map((search) => (\n            <li key={search.name}>\n              {\" \"}\n              {search.name} {search.number}\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n};\n\n\n\nconst App = () => {\n    \n    \n    \n    \n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  \n  \n  \n  \n  // using the useEffect for fetching the data from server and setting it to the component after first rendering..\n    \n    useEffect( () => {\n        personService.retrieve().then( (initialData) => setPersons(initialData)  )\n      }\n  , [])\n        \n         \n         \n         \n    \n    \n\n  function addName(event) {\n    //if trying to add the people in the phonebook\n    if (searchString === \"\") {\n      event.preventDefault();\n      const nameObject = {\n        name: newName,\n        number: newNum,\n        date: new Date(),\n        id: persons.length + 1\n      };\n\n      console.log(\"button clicked\", event.target);\n      if (\n        persons.find((person) => person.name === nameObject.name) === undefined\n      )\n        setPersons(persons.concat(nameObject));\n      else alert(`${nameObject.name} is already added to phonebook`);\n    }\n\n    //if searching on the phonebook\n    else {\n      event.preventDefault();\n      const searchArray = persons.filter(\n        (person) => person.name.toLowerCase().search(searchString.toLowerCase()) !== -1\n      );\n\n      setSearchResult(searchArray);\n    }\n  }\n\n  function handleNewName(event) {\n    setNewName(event.target.value);\n  }\n\n  function handleNewNum(event) {\n    setNewNum(event.target.value);\n  }\n\n  function handlesetSearchString(event) {\n    setSearchString(event.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <form onSubmit={addName}>\n        filter shown with\n        <input value={searchString} onChange={handlesetSearchString} />\n        <h2>add a new</h2>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        number: <input value={newNum} onChange={handleNewNum} />\n        <br />\n        <button type=\"submit\">add</button>\n      </form>\n\n      <Displayer\n        searchString={searchString}\n        persons={persons}\n        searchResult={searchResult}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}