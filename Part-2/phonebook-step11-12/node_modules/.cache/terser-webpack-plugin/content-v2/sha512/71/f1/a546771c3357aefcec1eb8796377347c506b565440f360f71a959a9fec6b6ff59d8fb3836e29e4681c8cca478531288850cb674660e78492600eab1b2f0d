{"code":"(this[\"webpackJsonpphonebook-step6\"]=this[\"webpackJsonpphonebook-step6\"]||[]).push([[0],{15:function(e,n,t){},39:function(e,n,t){\"use strict\";t.r(n);t(15);var c=t(14),r=t.n(c),a=t(3),o=t(2),u=t(4),i=t.n(u),s=\"http://localhost:3001/api/persons\";function j(){return i.a.get(s).then((function(e){return e.data}))}var l=t(0),b=function(e){var n=e.message;return null===n?null:Object(l.jsx)(\"div\",{className:\"coloring\",children:n})},d=function(e){var n=e.searchString,t=e.persons,c=e.searchResult,r=e.setPersons;function a(e){var n;!0===window.confirm(\"Do you want to delete \".concat(e.name))&&(n=e.id,i.a.delete(\"\".concat(s,\"/\").concat(n)),j().then((function(e){return r(e)})))}return\"\"===n?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(\"ul\",{children:t.map((function(e){return Object(l.jsxs)(\"li\",{children:[\" \",e.name,\" \",e.number,Object(l.jsx)(\"button\",{onClick:function(){return a(e)},children:\" Delete \"})]},e.name)}))})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(\"ul\",{children:c.map((function(e){return Object(l.jsxs)(\"li\",{children:[\" \",e.name,\" \",e.number,Object(l.jsx)(\"button\",{onClick:function(){return a(e)},children:\" Delete \"})]},e.name)}))})})},h=function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(\"\"),u=Object(a.a)(r,2),h=u[0],f=u[1],O=Object(o.useState)(\"\"),m=Object(a.a)(O,2),p=m[0],v=m[1],x=Object(o.useState)(\"\"),g=Object(a.a)(x,2),w=g[0],k=g[1],S=Object(o.useState)([]),C=Object(a.a)(S,2),D=C[0],y=C[1],P=Object(o.useState)(null),E=Object(a.a)(P,2),F=E[0],J=E[1];return Object(o.useEffect)((function(){j().then((function(e){return c(e)}))}),[]),Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(b,{message:F}),Object(l.jsx)(\"h2\",{children:\"Phonebook\"}),Object(l.jsxs)(\"form\",{onSubmit:function(e){if(\"\"===w){e.preventDefault();var n={name:h,number:p,date:new Date,id:t.length+1};if(console.log(\"button clicked\",e.target),void 0===t.find((function(e){return e.name===n.name}))){(o=n,i.a.post(s,o).then((function(e){return e.data}))).then((function(e){return J(\"\".concat(e.name,\" is added\"))}));j().then((function(e){return c(e)}))}else{if(!0===window.confirm(\"\".concat(n.name,\"is already added to phonebook,replace the old number with new one\"))){var r=t.find((function(e){return e.name===n.name})).id;n.id=r,function(e,n){i.a.put(\"\".concat(s,\"/\").concat(n),e).then((function(e){return e.data}))}(n,r),j().then((function(e){return c(e)}))}}}else{e.preventDefault();var a=t.filter((function(e){return-1!==e.name.toLowerCase().search(w.toLowerCase())}));y(a)}var o},children:[\"filter shown with\",Object(l.jsx)(\"input\",{value:w,onChange:function(e){k(e.target.value)}}),Object(l.jsx)(\"h2\",{children:\"add a new\"}),Object(l.jsxs)(\"div\",{children:[\"name: \",Object(l.jsx)(\"input\",{value:h,onChange:function(e){f(e.target.value)}})]}),\"number: \",Object(l.jsx)(\"input\",{value:p,onChange:function(e){v(e.target.value)}}),Object(l.jsx)(\"br\",{}),Object(l.jsx)(\"button\",{type:\"submit\",children:\"add\"})]}),Object(l.jsx)(d,{searchString:w,persons:t,searchResult:D,setPersons:c})]})};r.a.render(Object(l.jsx)(h,{}),document.getElementById(\"root\"))}},[[39,1,2]]]);","name":"static/js/main.c35243c1.chunk.js","map":{"version":3,"sources":["static/js/main.c35243c1.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react_dom","react_dom_default","n","slicedToArray","react","axios","axios_default","baseURL","retrieve","a","get","then","response","data","jsx_runtime","App_Notification","_ref","message","Object","className","children","App_Displayer","_ref2","searchString","persons","searchResult","setPersons","handleDelete","person","id","window","confirm","concat","name","delete","initialData","map","number","onClick","search","src_App","_useState","_useState2","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNum","setNewNum","_useState7","_useState8","setSearchString","_useState9","_useState10","setSearchResult","_useState11","_useState12","notif","setNotif","onSubmit","event","preventDefault","nameObject","date","Date","length","console","log","target","undefined","find","newObject","post","oldId","put","update","searchArray","filter","toLowerCase","value","onChange","type","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpphonebook-step6\"] = this[\"webpackJsonpphonebook-step6\"] || []).push([[0],{\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(14);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/persons.js\nvar baseURL='http://localhost:3001/api/persons';function create(newObject){var request=axios_default.a.post(baseURL,newObject);return request.then(function(response){return response.data;});}function retrieve(){var request=axios_default.a.get(baseURL);return request.then(function(response){return response.data;});}function remove(id){var promise=axios_default.a.delete(\"\".concat(baseURL,\"/\").concat(id));}function update(newObject,id){var request=axios_default.a.put(\"\".concat(baseURL,\"/\").concat(id),newObject);return request.then(function(response){return response.data;});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_Notification=function Notification(_ref){var message=_ref.message;if(message===null)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"coloring\",children:message});};var App_Displayer=function Displayer(_ref2){var searchString=_ref2.searchString,persons=_ref2.persons,searchResult=_ref2.searchResult,setPersons=_ref2.setPersons;function handleDelete(person){var result=window.confirm(\"Do you want to delete \".concat(person.name));if(result===true){remove(person.id);retrieve().then(function(initialData){return setPersons(initialData);});}}if(searchString===\"\"){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:persons.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[\" \",person.name,\" \",person.number,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleDelete(person);},children:\" Delete \"})]},person.name);})})});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:searchResult.map(function(search){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[\" \",search.name,\" \",search.number,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleDelete(search);},children:\" Delete \"})]},search.name);})})});}};var App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNum=_useState6[0],setNewNum=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),searchString=_useState8[0],setSearchString=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),searchResult=_useState10[0],setSearchResult=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),notif=_useState12[0],setNotif=_useState12[1];// using the useEffect for fetching the data from server and setting it to the component after first rendering..\nObject(react[\"useEffect\"])(function(){retrieve().then(function(initialData){return setPersons(initialData);});},[]);function addName(event){//if trying to add the people in the phonebook\nif(searchString===\"\"){event.preventDefault();var nameObject={name:newName,number:newNum,date:new Date(),id:persons.length+1};console.log(\"button clicked\",event.target);if(persons.find(function(person){return person.name===nameObject.name;})===undefined){var newData=create(nameObject).then(function(person){return setNotif(\"\".concat(person.name,\" is added\"));});retrieve().then(function(initialData){return setPersons(initialData);});//setPersons(persons.concat(nameObject));\n}else{var result=window.confirm(\"\".concat(nameObject.name,\"is already added to phonebook,replace the old number with new one\"));if(result===true){var oldPerson=persons.find(function(person){return person.name===nameObject.name;});var oldId=oldPerson.id;nameObject.id=oldId;update(nameObject,oldId);retrieve().then(function(initialData){return setPersons(initialData);});}}}//if searching on the phonebook\nelse{event.preventDefault();var searchArray=persons.filter(function(person){return person.name.toLowerCase().search(searchString.toLowerCase())!==-1;});setSearchResult(searchArray);}}function handleNewName(event){setNewName(event.target.value);}function handleNewNum(event){setNewNum(event.target.value);}function handlesetSearchString(event){setSearchString(event.target.value);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Notification,{message:notif}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addName,children:[\"filter shown with\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:searchString,onChange:handlesetSearchString}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"add a new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newName,onChange:handleNewName})]}),\"number: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newNum,onChange:handleNewNum}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Displayer,{searchString:searchString,persons:persons,searchResult:searchResult,setPersons:setPersons})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/node_modules/postcss-loader/src/index.js??postcss!/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/src/index.css","/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/src/services/persons.js","/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/src/App.js","/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step11-12/src/index.js"],"names":["baseURL","create","newObject","request","axios","post","then","response","data","retrieve","get","remove","id","promise","delete","update","put","Notification","message","Displayer","searchString","persons","searchResult","setPersons","handleDelete","person","result","window","confirm","name","initialData","map","number","search","App","useState","newName","setNewName","newNum","setNewNum","setSearchString","setSearchResult","notif","setNotif","useEffect","addName","event","preventDefault","nameObject","date","Date","length","console","log","target","find","undefined","newData","oldPerson","oldId","searchArray","filter","toLowerCase","handleNewName","value","handleNewNum","handlesetSearchString","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from 'axios'\nconst baseURL = 'http://localhost:3001/api/persons'      \n\n\n\n\n\n   function create(newObject) {\n       const request = axios.post(baseURL, newObject)\n       return request.then((response) => response.data)\n   }\n\n\n function retrieve(){\n        const request = axios.get(baseURL)\n        return request.then (  (response)  => response.data)\n}\n\n\n function remove (id) {\n    const promise = axios.delete(`${baseURL}/${id}`)\n}\n\n\n    function update(newObject,id){\n        const request = axios.put( `${baseURL}/${id}`,newObject)\n        return request.then( response => response.data   )\n    }\n\n\n\nexport {\n    create,\n    retrieve,\n    remove,\n    update\n}\n","import React, { useState, useEffect} from \"react\";\nimport axios from 'axios'\nimport {retrieve,remove,create,update} from './services/persons'\n\n\n\n\n\nconst Notification = ({message}) => {\n  if(message === null)\n    return null\n\n  return (\n      <div className='coloring'>\n        {message}\n      </div>\n  )\n\n\n}\n\n\n\nconst Displayer = ({ searchString, persons, searchResult,setPersons }) => {\n\n  function handleDelete(person){\n      let result = window.confirm(`Do you want to delete ${person.name}`)\n      if (result === true) {\n        remove(person.id)\n        retrieve().then( (initialData) => setPersons(initialData)  )\n      }\n  }\n\n\n\n  if (searchString === \"\") {\n    return (\n      <>\n        <ul>\n          {persons.map((person) => (\n            <li key={person.name}>\n              {\" \"}\n              {person.name} {person.number}\n              <button onClick={() => handleDelete(person)}> Delete </button>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <ul>\n          {searchResult.map((search) => (\n            <li key={search.name}>\n              {\" \"}\n              {search.name} {search.number}\n              <button onClick={() => handleDelete(search)}> Delete </button>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n};\n\n\n\nconst App = () => {\n    \n    \n    \n    \n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  const [notif,setNotif] = useState(null)\n  \n  \n  \n  \n  // using the useEffect for fetching the data from server and setting it to the component after first rendering..\n    \n    useEffect( () => {\n        retrieve().then( (initialData) => setPersons(initialData)  )\n      }\n  , [])\n\n    \n    \n\n  function addName(event) {\n    //if trying to add the people in the phonebook\n    if (searchString === \"\") {\n      event.preventDefault();\n      const nameObject = {\n        name: newName,\n        number: newNum,\n        date: new Date(),\n        id: persons.length + 1\n      };\n\n      console.log(\"button clicked\", event.target);\n      if (persons.find((person) => person.name === nameObject.name) === undefined) {\n        const newData = create(nameObject).then( (person) => setNotif( `${person.name} is added` ) )\n        retrieve().then( (initialData) => setPersons(initialData) )\n        //setPersons(persons.concat(nameObject));\n      }\n      else {\n          let result = window.confirm(`${nameObject.name}is already added to phonebook,replace the old number with new one`)\n          if(result === true) {\n            let oldPerson = persons.find((person) => person.name === nameObject.name)\n            let oldId = oldPerson.id\n            nameObject.id = oldId\n            update(nameObject,oldId)\n            retrieve().then((initialData) => setPersons(initialData))\n          }\n      }\n    }\n\n    //if searching on the phonebook\n    else {\n      event.preventDefault();\n      const searchArray = persons.filter(\n        (person) => person.name.toLowerCase().search(searchString.toLowerCase()) !== -1\n      );\n\n      setSearchResult(searchArray);\n    }\n  }\n\n  function handleNewName(event) {\n    setNewName(event.target.value);\n  }\n\n  function handleNewNum(event) {\n    setNewNum(event.target.value);\n  }\n\n  function handlesetSearchString(event) {\n    setSearchString(event.target.value);\n  }\n\n  return (\n    <div>\n      <Notification message={notif}/>\n      <h2>Phonebook</h2>\n      <form onSubmit={addName}>\n        filter shown with\n        <input value={searchString} onChange={handlesetSearchString} />\n        <h2>add a new</h2>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        number: <input value={newNum} onChange={handleNewNum} />\n        <br />\n        <button type=\"submit\">add</button>\n      </form>\n\n      <Displayer\n        searchString={searchString}\n        persons={persons}\n        searchResult={searchResult}\n        setPersons = {setPersons}\n      />\n    </div>\n  );\n};\n\nexport default App; \n","import './index.css'\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"]}}