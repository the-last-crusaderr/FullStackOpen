{"ast":null,"code":"var _jsxFileName = \"/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step7/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { retrieve, remove } from './services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Displayer = ({\n  searchString,\n  persons,\n  searchResult\n}) => {\n  function handleDelete(event) {\n    let result = window.confirm(`Do you want to delete ${event.target.name}`);\n    if (result === true) remove(event.target.id);\n  }\n\n  if (searchString === \"\") {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: persons.map(person => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\" \", person.name, \" \", person.number, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDelete,\n            children: \" Delete \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 15\n          }, this)]\n        }, person.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: searchResult.map(search => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\" \", search.name, \" \", search.number, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDelete,\n            children: \" Delete \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this)]\n        }, search.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n};\n\n_c = Displayer;\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]); // using the useEffect for fetching the data from server and setting it to the component after first rendering..\n\n  useEffect(() => {\n    retrieve().then(initialData => setPersons(initialData));\n  }, []);\n\n  function addName(event) {\n    //if trying to add the people in the phonebook\n    if (searchString === \"\") {\n      event.preventDefault();\n      const nameObject = {\n        name: newName,\n        number: newNum,\n        date: new Date(),\n        id: persons.length + 1\n      };\n      console.log(\"button clicked\", event.target);\n      if (persons.find(person => person.name === nameObject.name) === undefined) setPersons(persons.concat(nameObject));else alert(`${nameObject.name} is already added to phonebook`);\n    } //if searching on the phonebook\n    else {\n      event.preventDefault();\n      const searchArray = persons.filter(person => person.name.toLowerCase().search(searchString.toLowerCase()) !== -1);\n      setSearchResult(searchArray);\n    }\n  }\n\n  function handleNewName(event) {\n    setNewName(event.target.value);\n  }\n\n  function handleNewNum(event) {\n    setNewNum(event.target.value);\n  }\n\n  function handlesetSearchString(event) {\n    setSearchString(event.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addName,\n      children: [\"filter shown with\", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: searchString,\n        onChange: handlesetSearchString\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"add a new\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newName,\n          onChange: handleNewName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), \"number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newNum,\n        onChange: handleNewNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Displayer, {\n      searchString: searchString,\n      persons: persons,\n      searchResult: searchResult\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"peuh6sScJvqswqsRTcQOLkzmKro=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Displayer\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/home/the_last_crusaderr/Desktop/FullStackOpen/Part-2/phonebook-step7/src/App.js"],"names":["React","useState","useEffect","axios","retrieve","remove","Displayer","searchString","persons","searchResult","handleDelete","event","result","window","confirm","target","name","id","map","person","number","search","App","setPersons","newName","setNewName","newNum","setNewNum","setSearchString","setSearchResult","then","initialData","addName","preventDefault","nameObject","date","Date","length","console","log","find","undefined","concat","alert","searchArray","filter","toLowerCase","handleNewName","value","handleNewNum","handlesetSearchString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport axios from 'axios'\nimport {retrieve,remove} from './services/persons'\n\n\nconst Displayer = ({ searchString, persons, searchResult }) => {\n\n  function handleDelete(event){\n      let result = window.confirm(`Do you want to delete ${event.target.name}`)\n      if (result === true)\n          remove(event.target.id)\n  }\n\n  \n\n  if (searchString === \"\") {\n    return (\n      <>\n        <ul>\n          {persons.map((person) => (\n            <li key={person.name}>\n              {\" \"}\n              {person.name} {person.number}\n              <button onClick={handleDelete}> Delete </button>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <ul>\n          {searchResult.map((search) => (\n            <li key={search.name}>\n              {\" \"}\n              {search.name} {search.number}\n              <button onClick={handleDelete}> Delete </button>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n};\n\n\n\nconst App = () => {\n    \n    \n    \n    \n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  \n  \n  \n  \n  // using the useEffect for fetching the data from server and setting it to the component after first rendering..\n    \n    useEffect( () => {\n        retrieve().then( (initialData) => setPersons(initialData)  )\n      }\n  , [])\n        \n         \n         \n         \n    \n    \n\n  function addName(event) {\n    //if trying to add the people in the phonebook\n    if (searchString === \"\") {\n      event.preventDefault();\n      const nameObject = {\n        name: newName,\n        number: newNum,\n        date: new Date(),\n        id: persons.length + 1\n      };\n\n      console.log(\"button clicked\", event.target);\n      if (\n        persons.find((person) => person.name === nameObject.name) === undefined\n      )\n        setPersons(persons.concat(nameObject));\n      else alert(`${nameObject.name} is already added to phonebook`);\n    }\n\n    //if searching on the phonebook\n    else {\n      event.preventDefault();\n      const searchArray = persons.filter(\n        (person) => person.name.toLowerCase().search(searchString.toLowerCase()) !== -1\n      );\n\n      setSearchResult(searchArray);\n    }\n  }\n\n  function handleNewName(event) {\n    setNewName(event.target.value);\n  }\n\n  function handleNewNum(event) {\n    setNewNum(event.target.value);\n  }\n\n  function handlesetSearchString(event) {\n    setSearchString(event.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <form onSubmit={addName}>\n        filter shown with\n        <input value={searchString} onChange={handlesetSearchString} />\n        <h2>add a new</h2>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        number: <input value={newNum} onChange={handleNewNum} />\n        <br />\n        <button type=\"submit\">add</button>\n      </form>\n\n      <Displayer\n        searchString={searchString}\n        persons={persons}\n        searchResult={searchResult}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}